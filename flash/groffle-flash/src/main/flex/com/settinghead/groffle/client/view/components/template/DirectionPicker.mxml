<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:fx="http://ns.adobe.com/mxml/2009" 
		   xmlns:s="library://ns.adobe.com/flex/spark" 
		   xmlns:mx="library://ns.adobe.com/flex/mx"
		   creationComplete="onCreationCompleteHandler(event)">
	<fx:Declarations>
		
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import com.settinghead.groffle.client.model.vo.BBPolarTreeVO;
			
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			
			import spark.components.Button;
			
			[Bindable] public var buttonArray:ArrayCollection = new ArrayCollection();
			private var _angle:Number = 0.1;
			
			public static const BUTTON_WIDTH:Number = 25;
			
			[Bindable(event="AngleChanged")]
			public function get angle():Number{
				return _angle;
			}
			
			public function set angle(t:Number):void{
				this._angle = t;
				dispatchEvent(new Event("AngleChanged"));
			}
			
			protected function onCreationCompleteHandler(event:FlexEvent):void
			{
				generateButtons();
			}
			
			private function generateButtons():void{
//				var numButtons:int = this.width/BUTTON_WIDTH;
				var numButtons:int = 25;

				for(var i:int=0;i<numButtons;i++){
					var ang:Number = BBPolarTreeVO.TWO_PI - BBPolarTreeVO.TWO_PI/numButtons*i;
//					a.addEventListener(MouseEvent.CLICK, function( evt:Event ){this._angle = ang; });
					this.buttonArray.addItem(ang);
				}
			}
			protected override function keyDownHandler(event:KeyboardEvent):void{
				
			}
			
		]]>
	</fx:Script>
	<fx:Binding source="buttonList.selectedItem as Number" destination="angle" />
	<s:List id="buttonList"
			itemRenderer="com.settinghead.groffle.client.view.components.template.DirectionButton"
			dataProvider="{buttonArray}">
		<s:layout>
			<s:HorizontalLayout  />
		</s:layout>
	</s:List>
	

	</mx:Canvas>